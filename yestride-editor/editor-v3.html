<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yestride ç½‘ç«™ç¼–è¾‘å™¨ - æ¨¡å—é…ç½®ç‰ˆ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Microsoft YaHei", sans-serif; }
        .section { background: white; border-radius: 8px; padding: 1.5rem; margin-bottom: 1rem; box-shadow: 0 1px 3px rgba(0,0,0,0.1); }
        .label { font-weight: 600; margin-bottom: 0.5rem; display: block; color: #333; font-size: 14px; }
        input[type="text"], textarea, select { width: 100%; padding: 0.5rem; border: 1px solid #ddd; border-radius: 4px; font-size: 14px; }
        textarea { min-height: 80px; resize: vertical; }
        .btn { padding: 0.75rem 1.5rem; border-radius: 6px; font-weight: 500; cursor: pointer; transition: all 0.3s; border: none; }
        .btn-primary { background: #FF6B00; color: white; }
        .btn-primary:hover { background: #E05E00; }
        .btn-secondary { background: white; color: #333; border: 1px solid #ddd; }
        .btn-secondary:hover { background: #f5f5f5; }
        .btn-danger { background: #ef4444; color: white; }
        .btn-danger:hover { background: #dc2626; }
        .btn-success { background: #10b981; color: white; }
        .btn-success:hover { background: #059669; }
        .item { border: 1px solid #e5e7eb; padding: 1rem; border-radius: 6px; margin-bottom: 1rem; background: #fafafa; }
        .alert { padding: 1rem; border-radius: 6px; margin-bottom: 1rem; }
        .alert-success { background: #d1fae5; color: #065f46; border: 1px solid #6ee7b7; }
        .alert-error { background: #fee2e2; color: #991b1b; border: 1px solid #fca5a5; }
        .tab { padding: 0.75rem 1.5rem; cursor: pointer; border-bottom: 2px solid transparent; transition: all 0.3s; }
        .tab.active { border-bottom-color: #FF6B00; color: #FF6B00; font-weight: 600; }
        .tab-content { display: none; }
        .tab-content.active { display: block; }
        .toggle { position: relative; display: inline-block; width: 48px; height: 24px; }
        .toggle input { opacity: 0; width: 0; height: 0; }
        .slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: #ccc; transition: .4s; border-radius: 24px; }
        .slider:before { position: absolute; content: ""; height: 18px; width: 18px; left: 3px; bottom: 3px; background-color: white; transition: .4s; border-radius: 50%; }
        input:checked + .slider { background-color: #10b981; }
        input:checked + .slider:before { transform: translateX(24px); }
    </style>
</head>
<body class="bg-gray-100 p-4 md:p-8">
    <div class="max-w-6xl mx-auto">
        <!-- Header -->
        <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
            <h1 class="text-3xl font-bold text-gray-900 mb-2">ğŸ¨ Yestride ç½‘ç«™ç¼–è¾‘å™¨</h1>
            <p class="text-gray-600">æ¨¡å—é…ç½®ç‰ˆ - å¯ä»¥æ§åˆ¶æ˜¾ç¤ºå“ªäº›æ¨¡å—ï¼Œè‡ªå®šä¹‰æ·»åŠ æ¡ˆä¾‹</p>
        </div>

        <!-- Alert -->
        <div id="alert" class="hidden"></div>

        <!-- Tabs -->
        <div class="bg-white rounded-lg shadow-lg mb-6">
            <div class="flex border-b overflow-x-auto">
                <div class="tab active" onclick="switchTab('modules')">æ¨¡å—å¼€å…³</div>
                <div class="tab" onclick="switchTab('basic')">åŸºæœ¬ä¿¡æ¯</div>
                <div class="tab" onclick="switchTab('hero')">é¦–å±åŒºåŸŸ</div>
                <div class="tab" onclick="switchTab('tech')">æŠ€æœ¯æ ˆ</div>
                <div class="tab" onclick="switchTab('services')">ä¸šåŠ¡æ¨¡å—</div>
                <div class="tab" onclick="switchTab('cases')">æ¡ˆä¾‹å±•ç¤º</div>
                <div class="tab" onclick="switchTab('advantages')">ä¼˜åŠ¿å±•ç¤º</div>
                <div class="tab" onclick="switchTab('process')">åˆä½œæµç¨‹</div>
                <div class="tab" onclick="switchTab('contact')">è”ç³»æ–¹å¼</div>
            </div>
        </div>

        <!-- Tab: æ¨¡å—å¼€å…³ -->
        <div id="tab-modules" class="tab-content active">
            <div class="section">
                <h2 class="text-xl font-bold mb-4">ğŸ›ï¸ æ¨¡å—æ˜¾ç¤ºæ§åˆ¶</h2>
                <p class="text-gray-600 mb-6">æ§åˆ¶é¦–é¡µæ˜¾ç¤ºå“ªäº›æ¨¡å—ï¼Œå…³é—­çš„æ¨¡å—ä¸ä¼šåœ¨ç½‘ç«™ä¸Šæ˜¾ç¤º</p>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="flex items-center justify-between p-4 border rounded-lg">
                        <div>
                            <h3 class="font-bold">é¦–å±åŒºåŸŸ</h3>
                            <p class="text-sm text-gray-600">å…¬å¸ä»‹ç»å’ŒSlogan</p>
                        </div>
                        <label class="toggle">
                            <input type="checkbox" id="module-hero" onchange="updateModule('hero', 'enabled', this.checked)">
                            <span class="slider"></span>
                        </label>
                    </div>
                    
                    <div class="flex items-center justify-between p-4 border rounded-lg">
                        <div>
                            <h3 class="font-bold">æŠ€æœ¯æ ˆå±•ç¤º</h3>
                            <p class="text-sm text-gray-600">AIå¤§æ¨¡å‹ã€äº‘åŸç”Ÿç­‰</p>
                        </div>
                        <label class="toggle">
                            <input type="checkbox" id="module-techStack" onchange="updateModule('techStack', 'enabled', this.checked)">
                            <span class="slider"></span>
                        </label>
                    </div>
                    
                    <div class="flex items-center justify-between p-4 border rounded-lg">
                        <div>
                            <h3 class="font-bold">ä¸šåŠ¡æ¨¡å—</h3>
                            <p class="text-sm text-gray-600">æ ¸å¿ƒä¸šåŠ¡ä»‹ç»</p>
                        </div>
                        <label class="toggle">
                            <input type="checkbox" id="module-services" onchange="updateModule('services', 'enabled', this.checked)">
                            <span class="slider"></span>
                        </label>
                    </div>
                    
                    <div class="flex items-center justify-between p-4 border rounded-lg">
                        <div>
                            <h3 class="font-bold">æ¡ˆä¾‹å±•ç¤º</h3>
                            <p class="text-sm text-gray-600">æˆåŠŸæ¡ˆä¾‹å’Œé¡¹ç›®</p>
                        </div>
                        <label class="toggle">
                            <input type="checkbox" id="module-cases" onchange="updateModule('cases', 'enabled', this.checked)">
                            <span class="slider"></span>
                        </label>
                    </div>
                    
                    <div class="flex items-center justify-between p-4 border rounded-lg">
                        <div>
                            <h3 class="font-bold">ä¼˜åŠ¿å±•ç¤º</h3>
                            <p class="text-sm text-gray-600">ä¸ºä»€ä¹ˆé€‰æ‹©æˆ‘ä»¬</p>
                        </div>
                        <label class="toggle">
                            <input type="checkbox" id="module-advantages" onchange="updateModule('advantages', 'enabled', this.checked)">
                            <span class="slider"></span>
                        </label>
                    </div>
                    
                    <div class="flex items-center justify-between p-4 border rounded-lg">
                        <div>
                            <h3 class="font-bold">åˆä½œæµç¨‹</h3>
                            <p class="text-sm text-gray-600">ä¸æˆ‘ä»¬åˆä½œçš„æ­¥éª¤</p>
                        </div>
                        <label class="toggle">
                            <input type="checkbox" id="module-process" onchange="updateModule('process', 'enabled', this.checked)">
                            <span class="slider"></span>
                        </label>
                    </div>
                    
                    <div class="flex items-center justify-between p-4 border rounded-lg">
                        <div>
                            <h3 class="font-bold">CTAåŒºåŸŸ</h3>
                            <p class="text-sm text-gray-600">è¡ŒåŠ¨å·å¬å’Œè”ç³»æ–¹å¼</p>
                        </div>
                        <label class="toggle">
                            <input type="checkbox" id="module-cta" onchange="updateModule('cta', 'enabled', this.checked)">
                            <span class="slider"></span>
                        </label>
                    </div>
                </div>
                
                <div class="mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg">
                    <h3 class="font-bold mb-2">é¦–å±åŒºåŸŸç»†èŠ‚æ§åˆ¶</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
                        <label class="flex items-center">
                            <input type="checkbox" id="hero-showBadge" onchange="updateModule('hero', 'showBadge', this.checked)" class="mr-2">
                            <span>æ˜¾ç¤ºNEWæ ‡ç­¾</span>
                        </label>
                        <label class="flex items-center">
                            <input type="checkbox" id="hero-showCTAButtons" onchange="updateModule('hero', 'showCTAButtons', this.checked)" class="mr-2">
                            <span>æ˜¾ç¤º"ç«‹å³å’¨è¯¢"æŒ‰é’®</span>
                        </label>
                        <label class="flex items-center">
                            <input type="checkbox" id="hero-showSocialProof" onchange="updateModule('hero', 'showSocialProof', this.checked)" class="mr-2">
                            <span>æ˜¾ç¤ºå®¢æˆ·å¤´åƒ</span>
                        </label>
                        <label class="flex items-center">
                            <input type="checkbox" id="hero-showClientStats" onchange="updateModule('hero', 'showClientStats', this.checked)" class="mr-2">
                            <span>æ˜¾ç¤º"å·²æœåŠ¡XXå®¢æˆ·"</span>
                        </label>
                        <label class="flex items-center">
                            <input type="checkbox" id="hero-showRatings" onchange="updateModule('hero', 'showRatings', this.checked)" class="mr-2">
                            <span>æ˜¾ç¤ºè¯„åˆ†å’Œè¯„ä»·</span>
                        </label>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tab: åŸºæœ¬ä¿¡æ¯ -->
        <div id="tab-basic" class="tab-content">
            <div class="section">
                <h2 class="text-xl font-bold mb-4">åŸºæœ¬ä¿¡æ¯</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <label class="label">å…¬å¸åç§°ï¼ˆè‹±æ–‡ï¼‰</label>
                        <input type="text" id="companyName" placeholder="Yestride">
                    </div>
                    <div>
                        <label class="label">å…¬å¸åç§°ï¼ˆä¸­æ–‡ï¼‰</label>
                        <input type="text" id="companyNameCn" placeholder="æºè¸”ç§‘æŠ€">
                    </div>
                </div>
                <div class="mt-4">
                    <label class="label">Slogan</label>
                    <input type="text" id="slogan" placeholder="æ™ºå¯æœªæ¥ï¼Œè¸”å‰å‰è¡Œ">
                </div>
                <div class="mt-4">
                    <label class="label">å…¬å¸æè¿°</label>
                    <textarea id="companyDescription" placeholder="å…¬å¸ç®€ä»‹..."></textarea>
                </div>
            </div>
        </div>

        <!-- Tab: é¦–å±åŒºåŸŸ -->
        <div id="tab-hero" class="tab-content">
            <div class="section">
                <h2 class="text-xl font-bold mb-4">é¦–å±åŒºåŸŸ</h2>
                <div class="mb-4">
                    <label class="label">NEWæ ‡ç­¾æ–‡å­—</label>
                    <input type="text" id="heroBadge" placeholder="AIé©±åŠ¨çš„è§£å†³æ–¹æ¡ˆ">
                </div>
                <div class="mb-4">
                    <label class="label">ä¸»æ ‡é¢˜</label>
                    <input type="text" id="heroTitle" placeholder="æ™ºå¯æœªæ¥ï¼Œè¸”å‰å‰è¡Œ">
                </div>
                <div class="mb-4">
                    <label class="label">å‰¯æ ‡é¢˜ï¼ˆæ”¯æŒHTMLï¼‰</label>
                    <textarea id="heroSubtitle" placeholder="Yestrideä¸“æ³¨äº..."></textarea>
                </div>
            </div>
        </div>

        <!-- Tab: æŠ€æœ¯æ ˆ -->
        <div id="tab-tech" class="tab-content">
            <div class="section">
                <h2 class="text-xl font-bold mb-4">æŠ€æœ¯æ ˆå±•ç¤º</h2>
                <div id="techList"></div>
                <button onclick="addTech()" class="btn btn-secondary mt-4">+ æ·»åŠ æŠ€æœ¯</button>
            </div>
        </div>

        <!-- Tab: ä¸šåŠ¡æ¨¡å— -->
        <div id="tab-services" class="tab-content">
            <div class="section">
                <h2 class="text-xl font-bold mb-4">ä¸šåŠ¡æ¨¡å—</h2>
                <div id="servicesList"></div>
                <button onclick="addService()" class="btn btn-secondary mt-4">+ æ·»åŠ ä¸šåŠ¡</button>
            </div>
        </div>

        <!-- Tab: æ¡ˆä¾‹å±•ç¤º -->
        <div id="tab-cases" class="tab-content">
            <div class="section">
                <h2 class="text-xl font-bold mb-4">ğŸ“ æ¡ˆä¾‹å±•ç¤º</h2>
                <p class="text-gray-600 mb-4">æ·»åŠ æ‚¨çš„æˆåŠŸæ¡ˆä¾‹ï¼Œæ”¯æŒä¸Šä¼ å›¾ç‰‡</p>
                <div id="casesList"></div>
                <button onclick="addCase()" class="btn btn-secondary mt-4">+ æ·»åŠ æ¡ˆä¾‹</button>
            </div>
        </div>

        <!-- Tab: ä¼˜åŠ¿å±•ç¤º -->
        <div id="tab-advantages" class="tab-content">
            <div class="section">
                <h2 class="text-xl font-bold mb-4">ä¼˜åŠ¿å±•ç¤º</h2>
                <div id="advantagesList"></div>
                <button onclick="addAdvantage()" class="btn btn-secondary mt-4">+ æ·»åŠ ä¼˜åŠ¿</button>
            </div>
        </div>

        <!-- Tab: åˆä½œæµç¨‹ -->
        <div id="tab-process" class="tab-content">
            <div class="section">
                <h2 class="text-xl font-bold mb-4">åˆä½œæµç¨‹</h2>
                <div id="processList"></div>
                <button onclick="addProcess()" class="btn btn-secondary mt-4">+ æ·»åŠ æ­¥éª¤</button>
            </div>
        </div>

        <!-- Tab: è”ç³»æ–¹å¼ -->
        <div id="tab-contact" class="tab-content">
            <div class="section">
                <h2 class="text-xl font-bold mb-4">è”ç³»æ–¹å¼ & CTA</h2>
                <div class="mb-6">
                    <h3 class="font-bold mb-3">CTAåŒºåŸŸ</h3>
                    <div class="mb-4">
                        <label class="label">CTAæ ‡é¢˜</label>
                        <input type="text" id="ctaTitle" placeholder="å‡†å¤‡å¥½å¼€å¯AIè½¬å‹ä¹‹æ—…äº†å—ï¼Ÿ">
                    </div>
                    <div class="mb-4">
                        <label class="label">CTAå‰¯æ ‡é¢˜</label>
                        <input type="text" id="ctaSubtitle" placeholder="ç«‹å³è”ç³»æˆ‘ä»¬ï¼Œè·å–ä¸“å±è§£å†³æ–¹æ¡ˆ">
                    </div>
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label class="label">æŒ‰é’®æ–‡å­—</label>
                            <input type="text" id="ctaButtonText" placeholder="ç«‹å³å’¨è¯¢">
                        </div>
                        <div>
                            <label class="label">æŒ‰é’®é“¾æ¥</label>
                            <input type="text" id="ctaButtonLink" placeholder="#contact">
                        </div>
                    </div>
                </div>
                <div>
                    <h3 class="font-bold mb-3">è”ç³»ä¿¡æ¯</h3>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <div>
                            <label class="label">ç”µè¯</label>
                            <input type="text" id="contactPhone" placeholder="400-xxx-xxxx">
                        </div>
                        <div>
                            <label class="label">é‚®ç®±</label>
                            <input type="text" id="contactEmail" placeholder="contact@yestride.com">
                        </div>
                        <div>
                            <label class="label">åœ°å€</label>
                            <input type="text" id="contactAddress" placeholder="æˆéƒ½å¸‚xxxxx">
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Action Buttons -->
        <div class="section sticky bottom-4">
            <div class="flex flex-wrap gap-4">
                <button onclick="saveConfig()" class="btn btn-success">ğŸ’¾ ä¿å­˜é…ç½®</button>
                <button onclick="generateWebsite()" class="btn btn-primary">ğŸš€ ç”Ÿæˆç½‘ç«™</button>
                <button onclick="loadConfig()" class="btn btn-secondary">ğŸ”„ é‡æ–°åŠ è½½</button>
                <button onclick="previewWebsite()" class="btn btn-secondary">ğŸ‘ï¸ é¢„è§ˆç½‘ç«™</button>
            </div>
        </div>
    </div>

    <script>
        let config = {};

        // åˆ‡æ¢æ ‡ç­¾
        function switchTab(tabName) {
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
            event.target.classList.add('active');
            document.getElementById('tab-' + tabName).classList.add('active');
        }

        // æ˜¾ç¤ºæç¤º
        function showAlert(message, type = 'success') {
            const alert = document.getElementById('alert');
            alert.className = `alert alert-${type}`;
            alert.textContent = message;
            alert.classList.remove('hidden');
            setTimeout(() => alert.classList.add('hidden'), 3000);
        }

        // æ›´æ–°æ¨¡å—é…ç½®
        function updateModule(module, field, value) {
            if (!config.modules) config.modules = {};
            if (!config.modules[module]) config.modules[module] = {};
            config.modules[module][field] = value;
        }

        // åŠ è½½é…ç½®
        async function loadConfig() {
            try {
                const response = await fetch('/api/config');
                config = await response.json();
                fillForm();
                showAlert('é…ç½®åŠ è½½æˆåŠŸï¼');
            } catch (error) {
                showAlert('åŠ è½½é…ç½®å¤±è´¥: ' + error.message, 'error');
            }
        }

        // å¡«å……è¡¨å•
        function fillForm() {
            // åŸºæœ¬ä¿¡æ¯
            document.getElementById('companyName').value = config.company?.name || '';
            document.getElementById('companyNameCn').value = config.company?.nameCn || '';
            document.getElementById('slogan').value = config.company?.slogan || '';
            document.getElementById('companyDescription').value = config.company?.description || '';
            
            // HeroåŒºåŸŸ
            document.getElementById('heroBadge').value = config.hero?.badge || '';
            document.getElementById('heroTitle').value = config.hero?.title || '';
            document.getElementById('heroSubtitle').value = (config.hero?.subtitle || '').replace(/<br>/g, '\n');
            
            // CTAå’Œè”ç³»æ–¹å¼
            document.getElementById('ctaTitle').value = config.cta?.title || '';
            document.getElementById('ctaSubtitle').value = config.cta?.subtitle || '';
            document.getElementById('ctaButtonText').value = config.cta?.buttonText || '';
            document.getElementById('ctaButtonLink').value = config.cta?.buttonLink || '';
            document.getElementById('contactPhone').value = config.contact?.phone || '';
            document.getElementById('contactEmail').value = config.contact?.email || '';
            document.getElementById('contactAddress').value = config.contact?.address || '';
            
            // æ¨¡å—å¼€å…³
            if (config.modules) {
                document.getElementById('module-hero').checked = config.modules.hero?.enabled !== false;
                document.getElementById('module-techStack').checked = config.modules.techStack?.enabled !== false;
                document.getElementById('module-services').checked = config.modules.services?.enabled !== false;
                document.getElementById('module-cases').checked = config.modules.cases?.enabled !== false;
                document.getElementById('module-advantages').checked = config.modules.advantages?.enabled !== false;
                document.getElementById('module-process').checked = config.modules.process?.enabled !== false;
                document.getElementById('module-cta').checked = config.modules.cta?.enabled !== false;
                
                // Heroç»†èŠ‚æ§åˆ¶
                document.getElementById('hero-showBadge').checked = config.modules.hero?.showBadge !== false;
                document.getElementById('hero-showCTAButtons').checked = config.modules.hero?.showCTAButtons === true;
                document.getElementById('hero-showSocialProof').checked = config.modules.hero?.showSocialProof === true;
                document.getElementById('hero-showClientStats').checked = config.modules.hero?.showClientStats === true;
                document.getElementById('hero-showRatings').checked = config.modules.hero?.showRatings === true;
            }
            
            // æ¸²æŸ“åˆ—è¡¨
            renderTechStack();
            renderServices();
            renderCases();
            renderAdvantages();
            renderProcess();
        }

        // æ¸²æŸ“æŠ€æœ¯æ ˆ
        function renderTechStack() {
            if (!config.techStack) config.techStack = [];
            const container = document.getElementById('techList');
            container.innerHTML = config.techStack.map((tech, index) => `
                <div class="item">
                    <div class="flex justify-between items-center mb-2">
                        <h3 class="font-bold">æŠ€æœ¯ ${index + 1}</h3>
                        <button onclick="removeTech(${index})" class="btn btn-danger text-sm py-1 px-3">åˆ é™¤</button>
                    </div>
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label class="label">åç§°</label>
                            <input type="text" value="${tech.name}" onchange="updateTech(${index}, 'name', this.value)">
                        </div>
                        <div>
                            <label class="label">é¢œè‰²</label>
                            <select onchange="updateTech(${index}, 'color', this.value)">
                                <option value="blue" ${tech.color === 'blue' ? 'selected' : ''}>è“è‰²</option>
                                <option value="green" ${tech.color === 'green' ? 'selected' : ''}>ç»¿è‰²</option>
                                <option value="purple" ${tech.color === 'purple' ? 'selected' : ''}>ç´«è‰²</option>
                                <option value="red" ${tech.color === 'red' ? 'selected' : ''}>çº¢è‰²</option>
                                <option value="orange" ${tech.color === 'orange' ? 'selected' : ''}>æ©™è‰²</option>
                            </select>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function updateTech(index, field, value) {
            config.techStack[index][field] = value;
        }

        function removeTech(index) {
            if (confirm('ç¡®å®šè¦åˆ é™¤è¿™ä¸ªæŠ€æœ¯å—ï¼Ÿ')) {
                config.techStack.splice(index, 1);
                renderTechStack();
            }
        }

        function addTech() {
            if (!config.techStack) config.techStack = [];
            config.techStack.push({ name: 'æ–°æŠ€æœ¯', color: 'blue' });
            renderTechStack();
        }

        // æ¸²æŸ“ä¸šåŠ¡æ¨¡å—
        function renderServices() {
            if (!config.services) config.services = [];
            const container = document.getElementById('servicesList');
            container.innerHTML = config.services.map((service, index) => `
                <div class="item">
                    <div class="flex justify-between items-center mb-2">
                        <h3 class="font-bold">ä¸šåŠ¡ ${index + 1}</h3>
                        <button onclick="removeService(${index})" class="btn btn-danger text-sm py-1 px-3">åˆ é™¤</button>
                    </div>
                    <div class="mb-2">
                        <label class="label">æ ‡é¢˜</label>
                        <input type="text" value="${service.title}" onchange="updateService(${index}, 'title', this.value)">
                    </div>
                    <div class="mb-2">
                        <label class="label">æè¿°</label>
                        <textarea onchange="updateService(${index}, 'description', this.value)">${service.description}</textarea>
                    </div>
                    <div class="mb-2">
                        <label class="label">ç‰¹ç‚¹ï¼ˆç”¨ | åˆ†éš”ï¼‰</label>
                        <input type="text" value="${service.features}" onchange="updateService(${index}, 'features', this.value)">
                    </div>
                    <div>
                        <label class="label">é¢œè‰²</label>
                        <select onchange="updateService(${index}, 'color', this.value)">
                            <option value="orange" ${service.color === 'orange' ? 'selected' : ''}>æ©™è‰²</option>
                            <option value="blue" ${service.color === 'blue' ? 'selected' : ''}>è“è‰²</option>
                            <option value="purple" ${service.color === 'purple' ? 'selected' : ''}>ç´«è‰²</option>
                            <option value="green" ${service.color === 'green' ? 'selected' : ''}>ç»¿è‰²</option>
                        </select>
                    </div>
                </div>
            `).join('');
        }

        function updateService(index, field, value) {
            config.services[index][field] = value;
        }

        function removeService(index) {
            if (confirm('ç¡®å®šè¦åˆ é™¤è¿™ä¸ªä¸šåŠ¡å—ï¼Ÿ')) {
                config.services.splice(index, 1);
                renderServices();
            }
        }

        function addService() {
            if (!config.services) config.services = [];
            config.services.push({
                id: 'service-' + Date.now(),
                title: 'æ–°ä¸šåŠ¡',
                description: 'ä¸šåŠ¡æè¿°',
                features: 'ç‰¹ç‚¹1 | ç‰¹ç‚¹2 | ç‰¹ç‚¹3',
                icon: 'chart',
                color: 'orange'
            });
            renderServices();
        }

        // æ¸²æŸ“æ¡ˆä¾‹
        function renderCases() {
            if (!config.cases) config.cases = [];
            const container = document.getElementById('casesList');
            container.innerHTML = config.cases.map((caseItem, index) => `
                <div class="item">
                    <div class="flex justify-between items-center mb-3">
                        <h3 class="font-bold">æ¡ˆä¾‹ ${index + 1}</h3>
                        <button onclick="removeCase(${index})" class="btn btn-danger text-sm py-1 px-3">åˆ é™¤</button>
                    </div>
                    <div class="mb-3">
                        <label class="label">æ¡ˆä¾‹æ ‡é¢˜</label>
                        <input type="text" value="${caseItem.title || ''}" onchange="updateCase(${index}, 'title', this.value)">
                    </div>
                    <div class="grid grid-cols-2 gap-4 mb-3">
                        <div>
                            <label class="label">åˆ†ç±»</label>
                            <input type="text" value="${caseItem.category || ''}" onchange="updateCase(${index}, 'category', this.value)" placeholder="æ”¿åŠ¡/é‡‘è/è¥é”€">
                        </div>
                        <div>
                            <label class="label">å›¾ç‰‡è·¯å¾„</label>
                            <input type="text" value="${caseItem.image || ''}" onchange="updateCase(${index}, 'image', this.value)" placeholder="images/cases/case-1.jpg">
                        </div>
                    </div>
                    <div class="mb-3">
                        <label class="label">æ¡ˆä¾‹æè¿°</label>
                        <textarea onchange="updateCase(${index}, 'description', this.value)">${caseItem.description || ''}</textarea>
                    </div>
                    <div class="mb-3">
                        <label class="label">æ ‡ç­¾ï¼ˆç”¨é€—å·åˆ†éš”ï¼‰</label>
                        <input type="text" value="${(caseItem.tags || []).join(', ')}" onchange="updateCaseTags(${index}, this.value)" placeholder="AIå¤§æ¨¡å‹, äº‘åŸç”Ÿ">
                    </div>
                    <div>
                        <label class="label">äº®ç‚¹ï¼ˆæ¯è¡Œä¸€ä¸ªï¼‰</label>
                        <textarea onchange="updateCaseHighlights(${index}, this.value)" placeholder="æœåŠ¡äº‹é¡¹åœ¨çº¿åŠç†ç‡æå‡è‡³95%&#10;ç¾¤ä¼—æ»¡æ„åº¦è¾¾98%">${(caseItem.highlights || []).join('\n')}</textarea>
                    </div>
                    ${caseItem.image ? `<div class="mt-3"><img src="${caseItem.image}" alt="${caseItem.title}" class="w-full h-48 object-cover rounded-lg" onerror="this.style.display='none'"></div>` : ''}
                </div>
            `).join('');
        }

        function updateCase(index, field, value) {
            if (!config.cases[index]) config.cases[index] = {};
            config.cases[index][field] = value;
        }

        function updateCaseTags(index, value) {
            config.cases[index].tags = value.split(',').map(t => t.trim()).filter(t => t);
        }

        function updateCaseHighlights(index, value) {
            config.cases[index].highlights = value.split('\n').map(h => h.trim()).filter(h => h);
        }

        function removeCase(index) {
            if (confirm('ç¡®å®šè¦åˆ é™¤è¿™ä¸ªæ¡ˆä¾‹å—ï¼Ÿ')) {
                config.cases.splice(index, 1);
                renderCases();
            }
        }

        function addCase() {
            if (!config.cases) config.cases = [];
            config.cases.push({
                id: 'case-' + Date.now(),
                title: 'æ–°æ¡ˆä¾‹',
                category: 'åˆ†ç±»',
                description: 'æ¡ˆä¾‹æè¿°',
                image: 'images/cases/placeholder.jpg',
                tags: ['æ ‡ç­¾1', 'æ ‡ç­¾2'],
                highlights: ['äº®ç‚¹1', 'äº®ç‚¹2', 'äº®ç‚¹3']
            });
            renderCases();
        }

        // æ¸²æŸ“ä¼˜åŠ¿
        function renderAdvantages() {
            if (!config.advantages) config.advantages = [];
            const container = document.getElementById('advantagesList');
            container.innerHTML = config.advantages.map((adv, index) => `
                <div class="item">
                    <div class="flex justify-between items-center mb-2">
                        <h3 class="font-bold">ä¼˜åŠ¿ ${index + 1}</h3>
                        <button onclick="removeAdvantage(${index})" class="btn btn-danger text-sm py-1 px-3">åˆ é™¤</button>
                    </div>
                    <div class="mb-2">
                        <label class="label">æ ‡é¢˜</label>
                        <input type="text" value="${adv.title}" onchange="updateAdvantage(${index}, 'title', this.value)">
                    </div>
                    <div class="mb-2">
                        <label class="label">æè¿°</label>
                        <textarea onchange="updateAdvantage(${index}, 'description', this.value)">${adv.description}</textarea>
                    </div>
                    <div>
                        <label class="label">é¢œè‰²</label>
                        <select onchange="updateAdvantage(${index}, 'color', this.value)">
                            <option value="green" ${adv.color === 'green' ? 'selected' : ''}>ç»¿è‰²</option>
                            <option value="blue" ${adv.color === 'blue' ? 'selected' : ''}>è“è‰²</option>
                            <option value="purple" ${adv.color === 'purple' ? 'selected' : ''}>ç´«è‰²</option>
                            <option value="orange" ${adv.color === 'orange' ? 'selected' : ''}>æ©™è‰²</option>
                        </select>
                    </div>
                </div>
            `).join('');
        }

        function updateAdvantage(index, field, value) {
            config.advantages[index][field] = value;
        }

        function removeAdvantage(index) {
            if (confirm('ç¡®å®šè¦åˆ é™¤è¿™ä¸ªä¼˜åŠ¿å—ï¼Ÿ')) {
                config.advantages.splice(index, 1);
                renderAdvantages();
            }
        }

        function addAdvantage() {
            if (!config.advantages) config.advantages = [];
            config.advantages.push({
                title: 'æ–°ä¼˜åŠ¿',
                description: 'ä¼˜åŠ¿æè¿°',
                icon: 'team',
                color: 'green'
            });
            renderAdvantages();
        }

        // æ¸²æŸ“æµç¨‹
        function renderProcess() {
            if (!config.process) config.process = [];
            const container = document.getElementById('processList');
            container.innerHTML = config.process.map((step, index) => `
                <div class="item">
                    <div class="flex justify-between items-center mb-2">
                        <h3 class="font-bold">æ­¥éª¤ ${index + 1}</h3>
                        <button onclick="removeProcess(${index})" class="btn btn-danger text-sm py-1 px-3">åˆ é™¤</button>
                    </div>
                    <div class="mb-2">
                        <label class="label">æ­¥éª¤å·</label>
                        <input type="text" value="${step.step}" onchange="updateProcess(${index}, 'step', this.value)">
                    </div>
                    <div class="mb-2">
                        <label class="label">æ ‡é¢˜</label>
                        <input type="text" value="${step.title}" onchange="updateProcess(${index}, 'title', this.value)">
                    </div>
                    <div>
                        <label class="label">æè¿°</label>
                        <textarea onchange="updateProcess(${index}, 'description', this.value)">${step.description}</textarea>
                    </div>
                </div>
            `).join('');
        }

        function updateProcess(index, field, value) {
            config.process[index][field] = value;
        }

        function removeProcess(index) {
            if (confirm('ç¡®å®šè¦åˆ é™¤è¿™ä¸ªæ­¥éª¤å—ï¼Ÿ')) {
                config.process.splice(index, 1);
                renderProcess();
            }
        }

        function addProcess() {
            if (!config.process) config.process = [];
            config.process.push({
                step: (config.process.length + 1).toString(),
                title: 'æ–°æ­¥éª¤',
                description: 'æ­¥éª¤æè¿°'
            });
            renderProcess();
        }

        // ä¿å­˜é…ç½®
        function saveConfig() {
            // æ›´æ–°é…ç½®å¯¹è±¡
            if (!config.company) config.company = {};
            config.company.name = document.getElementById('companyName').value;
            config.company.nameCn = document.getElementById('companyNameCn').value;
            config.company.slogan = document.getElementById('slogan').value;
            config.company.description = document.getElementById('companyDescription').value;
            
            if (!config.hero) config.hero = {};
            config.hero.badge = document.getElementById('heroBadge').value;
            config.hero.title = document.getElementById('heroTitle').value;
            config.hero.subtitle = document.getElementById('heroSubtitle').value.replace(/\n/g, '<br>');
            
            if (!config.cta) config.cta = {};
            config.cta.title = document.getElementById('ctaTitle').value;
            config.cta.subtitle = document.getElementById('ctaSubtitle').value;
            config.cta.buttonText = document.getElementById('ctaButtonText').value;
            config.cta.buttonLink = document.getElementById('ctaButtonLink').value;
            
            if (!config.contact) config.contact = {};
            config.contact.phone = document.getElementById('contactPhone').value;
            config.contact.email = document.getElementById('contactEmail').value;
            config.contact.address = document.getElementById('contactAddress').value;
            
            if (!config.footer) config.footer = {};
            config.footer.copyright = 'Â© 2024 ' + config.company.name + ' ' + config.company.nameCn + '. All rights reserved.';
            config.footer.icp = 'èœ€ICPå¤‡xxxxxxxxå·';
            
            // ä¸‹è½½é…ç½®æ–‡ä»¶
            try {
                const blob = new Blob([JSON.stringify(config, null, 2)], { type: 'application/json' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = 'config.json';
                a.click();
                URL.revokeObjectURL(url);
                showAlert('é…ç½®å·²ä¿å­˜å¹¶ä¸‹è½½ï¼');
            } catch (error) {
                showAlert('ä¿å­˜é…ç½®å¤±è´¥: ' + error.message, 'error');
            }
        }

        // ç”Ÿæˆç½‘ç«™
        function generateWebsite() {
            // å…ˆæ›´æ–°é…ç½®
            if (!config.company) config.company = {};
            config.company.name = document.getElementById('companyName').value;
            config.company.nameCn = document.getElementById('companyNameCn').value;
            config.company.slogan = document.getElementById('slogan').value;
            
            try {
                // è¿™é‡Œéœ€è¦ç”ŸæˆHTMLçš„å‡½æ•°
                const html = generateHTML(config);
                
                const blob = new Blob([html], { type: 'text/html' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = 'index.html';
                a.click();
                URL.revokeObjectURL(url);
                showAlert('ç½‘ç«™å·²ç”Ÿæˆå¹¶ä¸‹è½½ï¼è¯·ä¸Šä¼ åˆ°æœåŠ¡å™¨');
            } catch (error) {
                showAlert('ç”Ÿæˆç½‘ç«™å¤±è´¥: ' + error.message, 'error');
            }
        }
        
        // ç”ŸæˆHTMLå‡½æ•°ï¼ˆç®€åŒ–ç‰ˆï¼‰
        function generateHTML(cfg) {
            return '<!DOCTYPE html>\n' +
'<html lang="zh-CN">\n' +
'<head>\n' +
'    <meta charset="UTF-8">\n' +
'    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n' +
'    <title>' + cfg.company.name + ' - ' + cfg.company.slogan + '</title>\n' +
'    <scr' + 'ipt src="https://cdn.tailwindcss.com"></scr' + 'ipt>\n' +
'    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">\n' +
'    <link rel="stylesheet" href="css/style.css">\n' +
'</head>\n' +
'<body class="font-inter">\n' +
'    <h1>' + cfg.hero.title + '</h1>\n' +
'    <p>' + cfg.hero.subtitle + '</p>\n' +
'    <p>ç”µè¯ï¼š' + cfg.contact.phone + '</p>\n' +
'    <p>é‚®ç®±ï¼š' + cfg.contact.email + '</p>\n' +
'    <scr' + 'ipt src="js/main.js"></scr' + 'ipt>\n' +
'</body>\n' +
'</html>';
        }

        // é¢„è§ˆç½‘ç«™
        function previewWebsite() {
            try {
                const html = generateHTML(config);
                const blob = new Blob([html], { type: 'text/html' });
                const url = URL.createObjectURL(blob);
                window.open(url, '_blank');
                showAlert('é¢„è§ˆå·²æ‰“å¼€ï¼');
            } catch (error) {
                showAlert('é¢„è§ˆå¤±è´¥: ' + error.message, 'error');
            }
        }

        // é¡µé¢åŠ è½½æ—¶è‡ªåŠ¨åŠ è½½é…ç½®
        window.onload = loadConfig;
    </script>
</body>
</html>
