<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yestride ç½‘ç«™ç¼–è¾‘å™¨ - å¼ºå¤§ç‰ˆ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Microsoft YaHei", sans-serif; }
        .section { background: white; border-radius: 8px; padding: 1.5rem; margin-bottom: 1rem; box-shadow: 0 1px 3px rgba(0,0,0,0.1); }
        .label { font-weight: 600; margin-bottom: 0.5rem; display: block; color: #333; font-size: 14px; }
        input[type="text"], textarea, select { width: 100%; padding: 0.5rem; border: 1px solid #ddd; border-radius: 4px; font-size: 14px; }
        textarea { min-height: 80px; resize: vertical; }
        .btn { padding: 0.75rem 1.5rem; border-radius: 6px; font-weight: 500; cursor: pointer; transition: all 0.3s; border: none; }
        .btn-primary { background: #FF6B00; color: white; }
        .btn-primary:hover { background: #E05E00; }
        .btn-secondary { background: white; color: #333; border: 1px solid #ddd; }
        .btn-secondary:hover { background: #f5f5f5; }
        .btn-danger { background: #ef4444; color: white; }
        .btn-danger:hover { background: #dc2626; }
        .btn-success { background: #10b981; color: white; }
        .btn-success:hover { background: #059669; }
        .item { border: 1px solid #e5e7eb; padding: 1rem; border-radius: 6px; margin-bottom: 1rem; background: #fafafa; }
        .alert { padding: 1rem; border-radius: 6px; margin-bottom: 1rem; }
        .alert-success { background: #d1fae5; color: #065f46; border: 1px solid #6ee7b7; }
        .alert-error { background: #fee2e2; color: #991b1b; border: 1px solid #fca5a5; }
        .tab { padding: 0.75rem 1.5rem; cursor: pointer; border-bottom: 2px solid transparent; transition: all 0.3s; }
        .tab.active { border-bottom-color: #FF6B00; color: #FF6B00; font-weight: 600; }
        .tab-content { display: none; }
        .tab-content.active { display: block; }
    </style>
</head>
<body class="bg-gray-100 p-4 md:p-8">
    <div class="max-w-6xl mx-auto">
        <!-- Header -->
        <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
            <h1 class="text-3xl font-bold text-gray-900 mb-2">ğŸ¨ Yestride ç½‘ç«™ç¼–è¾‘å™¨</h1>
            <p class="text-gray-600">å¼ºå¤§ç‰ˆ - æ‰€æœ‰å†…å®¹éƒ½å¯ä»¥ä¿®æ”¹ï¼ä¿®æ”¹åè‡ªåŠ¨ä¿å­˜åˆ°config.json</p>
        </div>

        <!-- Alert -->
        <div id="alert" class="hidden"></div>

        <!-- Tabs -->
        <div class="bg-white rounded-lg shadow-lg mb-6">
            <div class="flex border-b overflow-x-auto">
                <div class="tab active" onclick="switchTab('basic')">åŸºæœ¬ä¿¡æ¯</div>
                <div class="tab" onclick="switchTab('hero')">é¦–å±åŒºåŸŸ</div>
                <div class="tab" onclick="switchTab('tech')">æŠ€æœ¯æ ˆ</div>
                <div class="tab" onclick="switchTab('services')">ä¸šåŠ¡æ¨¡å—</div>
                <div class="tab" onclick="switchTab('advantages')">ä¼˜åŠ¿å±•ç¤º</div>
                <div class="tab" onclick="switchTab('stats')">æ•°æ®ç»Ÿè®¡</div>
                <div class="tab" onclick="switchTab('process')">åˆä½œæµç¨‹</div>
                <div class="tab" onclick="switchTab('contact')">è”ç³»æ–¹å¼</div>
                <div class="tab" onclick="switchTab('footer')">é¡µè„šä¿¡æ¯</div>
            </div>
        </div>

        <!-- Tab Contents -->
        <div id="tab-basic" class="tab-content active">
            <div class="section">
                <h2 class="text-xl font-bold mb-4">åŸºæœ¬ä¿¡æ¯</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <label class="label">å…¬å¸åç§°ï¼ˆè‹±æ–‡ï¼‰</label>
                        <input type="text" id="companyName" placeholder="Yestride">
                    </div>
                    <div>
                        <label class="label">å…¬å¸åç§°ï¼ˆä¸­æ–‡ï¼‰</label>
                        <input type="text" id="companyNameCn" placeholder="æºè¸”ç§‘æŠ€">
                    </div>
                </div>
                <div class="mt-4">
                    <label class="label">Slogan</label>
                    <input type="text" id="slogan" placeholder="æ™ºå¯æœªæ¥ï¼Œè¸”å‰å‰è¡Œ">
                </div>
                <div class="mt-4">
                    <label class="label">å…¬å¸æè¿°</label>
                    <textarea id="companyDescription" placeholder="å…¬å¸ç®€ä»‹..."></textarea>
                </div>
            </div>
        </div>

        <div id="tab-hero" class="tab-content">
            <div class="section">
                <h2 class="text-xl font-bold mb-4">é¦–å±åŒºåŸŸ</h2>
                <div class="mb-4">
                    <label class="label">NEWæ ‡ç­¾æ–‡å­—</label>
                    <input type="text" id="heroBadge" placeholder="AIé©±åŠ¨çš„è§£å†³æ–¹æ¡ˆ">
                </div>
                <div class="mb-4">
                    <label class="label">ä¸»æ ‡é¢˜</label>
                    <input type="text" id="heroTitle" placeholder="æ™ºå¯æœªæ¥ï¼Œè¸”å‰å‰è¡Œ">
                </div>
                <div class="mb-4">
                    <label class="label">å‰¯æ ‡é¢˜ï¼ˆæ”¯æŒHTMLï¼‰</label>
                    <textarea id="heroSubtitle" placeholder="Yestrideä¸“æ³¨äº..."></textarea>
                </div>
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label class="label">å®¢æˆ·æ•°é‡</label>
                        <input type="text" id="heroStatsClients" placeholder="50+">
                    </div>
                    <div>
                        <label class="label">å®¢æˆ·æ ‡ç­¾</label>
                        <input type="text" id="heroStatsLabel" placeholder="æ”¿ä¼å®¢æˆ·">
                    </div>
                </div>
            </div>
        </div>

        <div id="tab-tech" class="tab-content">
            <div class="section">
                <h2 class="text-xl font-bold mb-4">æŠ€æœ¯æ ˆå±•ç¤º</h2>
                <div id="techList"></div>
                <button onclick="addTech()" class="btn btn-secondary mt-4">+ æ·»åŠ æŠ€æœ¯</button>
            </div>
        </div>

        <div id="tab-services" class="tab-content">
            <div class="section">
                <h2 class="text-xl font-bold mb-4">ä¸šåŠ¡æ¨¡å—</h2>
                <div id="servicesList"></div>
                <button onclick="addService()" class="btn btn-secondary mt-4">+ æ·»åŠ ä¸šåŠ¡</button>
            </div>
        </div>

        <div id="tab-advantages" class="tab-content">
            <div class="section">
                <h2 class="text-xl font-bold mb-4">ä¼˜åŠ¿å±•ç¤º</h2>
                <div id="advantagesList"></div>
                <button onclick="addAdvantage()" class="btn btn-secondary mt-4">+ æ·»åŠ ä¼˜åŠ¿</button>
            </div>
        </div>

        <div id="tab-stats" class="tab-content">
            <div class="section">
                <h2 class="text-xl font-bold mb-4">æ•°æ®ç»Ÿè®¡</h2>
                <div id="statsList"></div>
                <button onclick="addStat()" class="btn btn-secondary mt-4">+ æ·»åŠ ç»Ÿè®¡</button>
            </div>
        </div>

        <div id="tab-process" class="tab-content">
            <div class="section">
                <h2 class="text-xl font-bold mb-4">åˆä½œæµç¨‹</h2>
                <div id="processList"></div>
                <button onclick="addProcess()" class="btn btn-secondary mt-4">+ æ·»åŠ æ­¥éª¤</button>
            </div>
        </div>

        <div id="tab-contact" class="tab-content">
            <div class="section">
                <h2 class="text-xl font-bold mb-4">è”ç³»æ–¹å¼ & CTA</h2>
                <div class="mb-6">
                    <h3 class="font-bold mb-3">CTAåŒºåŸŸ</h3>
                    <div class="mb-4">
                        <label class="label">CTAæ ‡é¢˜</label>
                        <input type="text" id="ctaTitle" placeholder="å‡†å¤‡å¥½å¼€å¯AIè½¬å‹ä¹‹æ—…äº†å—ï¼Ÿ">
                    </div>
                    <div class="mb-4">
                        <label class="label">CTAå‰¯æ ‡é¢˜</label>
                        <input type="text" id="ctaSubtitle" placeholder="ç«‹å³è”ç³»æˆ‘ä»¬ï¼Œè·å–ä¸“å±è§£å†³æ–¹æ¡ˆ">
                    </div>
                </div>
                <div>
                    <h3 class="font-bold mb-3">è”ç³»ä¿¡æ¯</h3>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <div>
                            <label class="label">ç”µè¯</label>
                            <input type="text" id="contactPhone" placeholder="400-xxx-xxxx">
                        </div>
                        <div>
                            <label class="label">é‚®ç®±</label>
                            <input type="text" id="contactEmail" placeholder="contact@yestride.com">
                        </div>
                        <div>
                            <label class="label">åœ°å€</label>
                            <input type="text" id="contactAddress" placeholder="æˆéƒ½å¸‚xxxxx">
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="tab-footer" class="tab-content">
            <div class="section">
                <h2 class="text-xl font-bold mb-4">é¡µè„šä¿¡æ¯</h2>
                <div class="mb-4">
                    <label class="label">ç‰ˆæƒä¿¡æ¯</label>
                    <input type="text" id="footerCopyright" placeholder="Â© 2024 Yestride æºè¸”ç§‘æŠ€. All rights reserved.">
                </div>
                <div class="mb-4">
                    <label class="label">ICPå¤‡æ¡ˆå·</label>
                    <input type="text" id="footerIcp" placeholder="èœ€ICPå¤‡xxxxxxxxå·">
                </div>
            </div>
        </div>

        <!-- Action Buttons -->
        <div class="section sticky bottom-4">
            <div class="flex flex-wrap gap-4">
                <button onclick="saveConfig()" class="btn btn-success">ğŸ’¾ ä¿å­˜é…ç½®</button>
                <button onclick="generateWebsite()" class="btn btn-primary">ğŸš€ ç”Ÿæˆç½‘ç«™</button>
                <button onclick="loadConfig()" class="btn btn-secondary">ğŸ”„ é‡æ–°åŠ è½½</button>
                <button onclick="previewWebsite()" class="btn btn-secondary">ğŸ‘ï¸ é¢„è§ˆç½‘ç«™</button>
            </div>
        </div>
    </div>

    <script>
        let config = {};

        // åˆ‡æ¢æ ‡ç­¾
        function switchTab(tabName) {
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
            event.target.classList.add('active');
            document.getElementById('tab-' + tabName).classList.add('active');
        }

        // æ˜¾ç¤ºæç¤º
        function showAlert(message, type = 'success') {
            const alert = document.getElementById('alert');
            alert.className = `alert alert-${type}`;
            alert.textContent = message;
            alert.classList.remove('hidden');
            setTimeout(() => alert.classList.add('hidden'), 3000);
        }

        // åŠ è½½é…ç½®
        async function loadConfig() {
            try {
                const response = await fetch('/api/config');
                config = await response.json();
                fillForm();
                showAlert('é…ç½®åŠ è½½æˆåŠŸï¼');
            } catch (error) {
                showAlert('åŠ è½½é…ç½®å¤±è´¥: ' + error.message, 'error');
            }
        }

        // å¡«å……è¡¨å•
        function fillForm() {
            // åŸºæœ¬ä¿¡æ¯
            document.getElementById('companyName').value = config.company.name;
            document.getElementById('companyNameCn').value = config.company.nameCn;
            document.getElementById('slogan').value = config.company.slogan;
            document.getElementById('companyDescription').value = config.company.description;
            
            // HeroåŒºåŸŸ
            document.getElementById('heroBadge').value = config.hero.badge;
            document.getElementById('heroTitle').value = config.hero.title;
            document.getElementById('heroSubtitle').value = config.hero.subtitle.replace(/<br>/g, '\n');
            document.getElementById('heroStatsClients').value = config.hero.stats.clients;
            document.getElementById('heroStatsLabel').value = config.hero.stats.clientsLabel;
            
            // CTAå’Œè”ç³»æ–¹å¼
            document.getElementById('ctaTitle').value = config.cta.title;
            document.getElementById('ctaSubtitle').value = config.cta.subtitle;
            document.getElementById('contactPhone').value = config.contact.phone;
            document.getElementById('contactEmail').value = config.contact.email;
            document.getElementById('contactAddress').value = config.contact.address;
            
            // é¡µè„š
            document.getElementById('footerCopyright').value = config.footer.copyright;
            document.getElementById('footerIcp').value = config.footer.icp;
            
            // æ¸²æŸ“åˆ—è¡¨
            renderTechStack();
            renderServices();
            renderAdvantages();
            renderStats();
            renderProcess();
        }

        // æ¸²æŸ“æŠ€æœ¯æ ˆ
        function renderTechStack() {
            const container = document.getElementById('techList');
            container.innerHTML = config.techStack.map((tech, index) => `
                <div class="item">
                    <div class="flex justify-between items-center mb-2">
                        <h3 class="font-bold">æŠ€æœ¯ ${index + 1}</h3>
                        <button onclick="removeTech(${index})" class="btn btn-danger text-sm py-1 px-3">åˆ é™¤</button>
                    </div>
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label class="label">åç§°</label>
                            <input type="text" value="${tech.name}" onchange="updateTech(${index}, 'name', this.value)">
                        </div>
                        <div>
                            <label class="label">é¢œè‰²</label>
                            <select onchange="updateTech(${index}, 'color', this.value)">
                                <option value="blue" ${tech.color === 'blue' ? 'selected' : ''}>è“è‰²</option>
                                <option value="green" ${tech.color === 'green' ? 'selected' : ''}>ç»¿è‰²</option>
                                <option value="purple" ${tech.color === 'purple' ? 'selected' : ''}>ç´«è‰²</option>
                                <option value="red" ${tech.color === 'red' ? 'selected' : ''}>çº¢è‰²</option>
                                <option value="orange" ${tech.color === 'orange' ? 'selected' : ''}>æ©™è‰²</option>
                            </select>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function updateTech(index, field, value) {
            config.techStack[index][field] = value;
        }

        function removeTech(index) {
            if (confirm('ç¡®å®šè¦åˆ é™¤è¿™ä¸ªæŠ€æœ¯å—ï¼Ÿ')) {
                config.techStack.splice(index, 1);
                renderTechStack();
            }
        }

        function addTech() {
            config.techStack.push({ name: 'æ–°æŠ€æœ¯', color: 'blue' });
            renderTechStack();
        }

        // æ¸²æŸ“ä¸šåŠ¡æ¨¡å—
        function renderServices() {
            const container = document.getElementById('servicesList');
            container.innerHTML = config.services.map((service, index) => `
                <div class="item">
                    <div class="flex justify-between items-center mb-2">
                        <h3 class="font-bold">ä¸šåŠ¡ ${index + 1}</h3>
                        <button onclick="removeService(${index})" class="btn btn-danger text-sm py-1 px-3">åˆ é™¤</button>
                    </div>
                    <div class="mb-2">
                        <label class="label">æ ‡é¢˜</label>
                        <input type="text" value="${service.title}" onchange="updateService(${index}, 'title', this.value)">
                    </div>
                    <div class="mb-2">
                        <label class="label">æè¿°</label>
                        <textarea onchange="updateService(${index}, 'description', this.value)">${service.description}</textarea>
                    </div>
                    <div class="mb-2">
                        <label class="label">ç‰¹ç‚¹ï¼ˆç”¨ | åˆ†éš”ï¼‰</label>
                        <input type="text" value="${service.features}" onchange="updateService(${index}, 'features', this.value)">
                    </div>
                    <div>
                        <label class="label">é¢œè‰²</label>
                        <select onchange="updateService(${index}, 'color', this.value)">
                            <option value="orange" ${service.color === 'orange' ? 'selected' : ''}>æ©™è‰²</option>
                            <option value="blue" ${service.color === 'blue' ? 'selected' : ''}>è“è‰²</option>
                            <option value="purple" ${service.color === 'purple' ? 'selected' : ''}>ç´«è‰²</option>
                            <option value="green" ${service.color === 'green' ? 'selected' : ''}>ç»¿è‰²</option>
                        </select>
                    </div>
                </div>
            `).join('');
        }

        function updateService(index, field, value) {
            config.services[index][field] = value;
        }

        function removeService(index) {
            if (confirm('ç¡®å®šè¦åˆ é™¤è¿™ä¸ªä¸šåŠ¡å—ï¼Ÿ')) {
                config.services.splice(index, 1);
                renderServices();
            }
        }

        function addService() {
            config.services.push({
                id: 'service-' + Date.now(),
                title: 'æ–°ä¸šåŠ¡',
                description: 'ä¸šåŠ¡æè¿°',
                features: 'ç‰¹ç‚¹1 | ç‰¹ç‚¹2 | ç‰¹ç‚¹3',
                icon: 'chart',
                color: 'orange'
            });
            renderServices();
        }

        // æ¸²æŸ“ä¼˜åŠ¿
        function renderAdvantages() {
            const container = document.getElementById('advantagesList');
            container.innerHTML = config.advantages.map((adv, index) => `
                <div class="item">
                    <div class="flex justify-between items-center mb-2">
                        <h3 class="font-bold">ä¼˜åŠ¿ ${index + 1}</h3>
                        <button onclick="removeAdvantage(${index})" class="btn btn-danger text-sm py-1 px-3">åˆ é™¤</button>
                    </div>
                    <div class="mb-2">
                        <label class="label">æ ‡é¢˜</label>
                        <input type="text" value="${adv.title}" onchange="updateAdvantage(${index}, 'title', this.value)">
                    </div>
                    <div class="mb-2">
                        <label class="label">æè¿°</label>
                        <textarea onchange="updateAdvantage(${index}, 'description', this.value)">${adv.description}</textarea>
                    </div>
                    <div>
                        <label class="label">é¢œè‰²</label>
                        <select onchange="updateAdvantage(${index}, 'color', this.value)">
                            <option value="green" ${adv.color === 'green' ? 'selected' : ''}>ç»¿è‰²</option>
                            <option value="blue" ${adv.color === 'blue' ? 'selected' : ''}>è“è‰²</option>
                            <option value="purple" ${adv.color === 'purple' ? 'selected' : ''}>ç´«è‰²</option>
                            <option value="orange" ${adv.color === 'orange' ? 'selected' : ''}>æ©™è‰²</option>
                        </select>
                    </div>
                </div>
            `).join('');
        }

        function updateAdvantage(index, field, value) {
            config.advantages[index][field] = value;
        }

        function removeAdvantage(index) {
            if (confirm('ç¡®å®šè¦åˆ é™¤è¿™ä¸ªä¼˜åŠ¿å—ï¼Ÿ')) {
                config.advantages.splice(index, 1);
                renderAdvantages();
            }
        }

        function addAdvantage() {
            config.advantages.push({
                title: 'æ–°ä¼˜åŠ¿',
                description: 'ä¼˜åŠ¿æè¿°',
                color: 'green'
            });
            renderAdvantages();
        }

        // æ¸²æŸ“ç»Ÿè®¡æ•°æ®
        function renderStats() {
            const container = document.getElementById('statsList');
            container.innerHTML = config.stats.map((stat, index) => `
                <div class="item">
                    <div class="flex justify-between items-center mb-2">
                        <h3 class="font-bold">ç»Ÿè®¡ ${index + 1}</h3>
                        <button onclick="removeStat(${index})" class="btn btn-danger text-sm py-1 px-3">åˆ é™¤</button>
                    </div>
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label class="label">æ•°å­—</label>
                            <input type="text" value="${stat.number}" onchange="updateStat(${index}, 'number', this.value)">
                        </div>
                        <div>
                            <label class="label">æ ‡ç­¾</label>
                            <input type="text" value="${stat.label}" onchange="updateStat(${index}, 'label', this.value)">
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function updateStat(index, field, value) {
            config.stats[index][field] = value;
        }

        function removeStat(index) {
            if (confirm('ç¡®å®šè¦åˆ é™¤è¿™ä¸ªç»Ÿè®¡å—ï¼Ÿ')) {
                config.stats.splice(index, 1);
                renderStats();
            }
        }

        function addStat() {
            config.stats.push({
                number: '0',
                label: 'æ–°ç»Ÿè®¡'
            });
            renderStats();
        }

        // æ¸²æŸ“æµç¨‹
        function renderProcess() {
            const container = document.getElementById('processList');
            container.innerHTML = config.process.map((step, index) => `
                <div class="item">
                    <div class="flex justify-between items-center mb-2">
                        <h3 class="font-bold">æ­¥éª¤ ${index + 1}</h3>
                        <button onclick="removeProcess(${index})" class="btn btn-danger text-sm py-1 px-3">åˆ é™¤</button>
                    </div>
                    <div class="mb-2">
                        <label class="label">æ­¥éª¤å·</label>
                        <input type="text" value="${step.step}" onchange="updateProcess(${index}, 'step', this.value)">
                    </div>
                    <div class="mb-2">
                        <label class="label">æ ‡é¢˜</label>
                        <input type="text" value="${step.title}" onchange="updateProcess(${index}, 'title', this.value)">
                    </div>
                    <div>
                        <label class="label">æè¿°</label>
                        <textarea onchange="updateProcess(${index}, 'description', this.value)">${step.description}</textarea>
                    </div>
                </div>
            `).join('');
        }

        function updateProcess(index, field, value) {
            config.process[index][field] = value;
        }

        function removeProcess(index) {
            if (confirm('ç¡®å®šè¦åˆ é™¤è¿™ä¸ªæ­¥éª¤å—ï¼Ÿ')) {
                config.process.splice(index, 1);
                renderProcess();
            }
        }

        function addProcess() {
            config.process.push({
                step: (config.process.length + 1).toString(),
                title: 'æ–°æ­¥éª¤',
                description: 'æ­¥éª¤æè¿°'
            });
            renderProcess();
        }

        // ä¿å­˜é…ç½®
        async function saveConfig() {
            // æ›´æ–°é…ç½®å¯¹è±¡
            config.company.name = document.getElementById('companyName').value;
            config.company.nameCn = document.getElementById('companyNameCn').value;
            config.company.slogan = document.getElementById('slogan').value;
            config.company.description = document.getElementById('companyDescription').value;
            config.hero.badge = document.getElementById('heroBadge').value;
            config.hero.title = document.getElementById('heroTitle').value;
            config.hero.subtitle = document.getElementById('heroSubtitle').value.replace(/\n/g, '<br>');
            config.hero.stats.clients = document.getElementById('heroStatsClients').value;
            config.hero.stats.clientsLabel = document.getElementById('heroStatsLabel').value;
            config.cta.title = document.getElementById('ctaTitle').value;
            config.cta.subtitle = document.getElementById('ctaSubtitle').value;
            config.contact.phone = document.getElementById('contactPhone').value;
            config.contact.email = document.getElementById('contactEmail').value;
            config.contact.address = document.getElementById('contactAddress').value;
            config.footer.copyright = document.getElementById('footerCopyright').value;
            config.footer.icp = document.getElementById('footerIcp').value;
            
            try {
                const response = await fetch('/api/config', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(config)
                });
                const result = await response.json();
                showAlert(result.message || 'é…ç½®ä¿å­˜æˆåŠŸï¼');
            } catch (error) {
                showAlert('ä¿å­˜é…ç½®å¤±è´¥: ' + error.message, 'error');
            }
        }

        // ç”Ÿæˆç½‘ç«™
        async function generateWebsite() {
            await saveConfig(); // å…ˆä¿å­˜é…ç½®
            
            try {
                const response = await fetch('/api/generate', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(config)
                });
                const result = await response.json();
                showAlert(result.message || 'ç½‘ç«™ç”ŸæˆæˆåŠŸï¼');
            } catch (error) {
                showAlert('ç”Ÿæˆç½‘ç«™å¤±è´¥: ' + error.message, 'error');
            }
        }

        // é¢„è§ˆç½‘ç«™
        function previewWebsite() {
            window.open('/output/index.html', '_blank');
        }

        // é¡µé¢åŠ è½½æ—¶è‡ªåŠ¨åŠ è½½é…ç½®
        window.onload = loadConfig;
    </script>
</body>
</html>
